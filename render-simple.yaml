services:
- type: web
  name: socialflow-backend
  env: node
  rootDir: backend
  buildCommand: npm install && npx prisma generate  
  startCommand: npx prisma migrate deploy && npm start
  envVars:
  - key: NODE_ENV
    value: production
  - key: PORT
    value: 5000
  - key: DATABASE_URL
    generateValue: false
  - key: JWT_SECRET
    generateValue: false
  - key: CLIENT_URL
    value: https://socialflow-frontend.onrender.com

- type: web
  name: socialflow-frontend
  env: static
  buildCommand: npm install && npm run build
  staticPublishPath: ./dist
  envVars:
  - key: VITE_API_URL
    value: https://socialflow-backend.onrender.com